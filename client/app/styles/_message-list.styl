/*
 * Message list
 *
 * -- Message list bar internal layout and styles
 */

.list-loading
    padding    1.5rem
    color      grey-05
    text-align center


.messages-list
    display          flex
    flex-direction   column
    background-color white


    button
        background transparent
        border     none


    .drawer-toggle
        float left


    // TOOLBAR (filters / search / actions)
    // -------------------------------------------------------------------------
    [role=toolbar]
        display    flex
        min-height 2.6em


    [role=toolbar]
        padding          .1875em .35em
        background-color grey-01
        font-size        .90em

        .fa
            color darkcolor

        .caret
            margin-left .45em

        button i
            vertical-align baseline

        [role=group]
        .dropdown
        .menu-action
            display flex

        .dropdown-toggle
            white-space nowrap


    .search-bar
        flex   1

    .filters
        .btn-label
            padding-left .45em
            display      none


        [role=menuitem]
            margin-right .8em

        @media(min-width: 50em)
            .full & [role=menuitem]
                i
                    padding-left 0

                .btn-label
                    display inline


        > [role=presentation]
                display none

        @media(max-width: 37.5em)
            > [role=presentation]
                display block
                cursor  pointer

            [role=menuitem]
                display none

            &[aria-expanded=true]
                > [role=presentation]
                    background-color basecolor

                    .fa
                        color white

                [role=menuitem]
                    display block

            &[aria-expanded=false]
                margin-right 1px


    // LOADING PROGRESS
    // -------------------------------------------------------------------------
    .progress
        border-radius 0
        margin 0px
        height 0.2em
        min-height 0.2em
        background-image none
        background-color #f5f5f5
        box-shadow 0 0
        border-bottom 1px solid #c5c5c5


    // LIST ITEMS
    // -------------------------------------------------------------------------
    .main-content
        flex             1
        overflow-y       auto
        padding          0 0 .5em 0

        // `end of the road`
        > p
            text-align center
            font-size .875em


    .ellipsable
        min-width 0

        p
            text-overflow ellipsis
            overflow      hidden
            white-space   nowrap


    .message
        display       table
        table-layout  fixed
        width         100%
        padding       .5em .35em
        border-bottom 1px solid grey-01

        main:not(.full) &.active
            background-color grey-01

            .preview
                color darkcolor

            .mailboxes span
                background-color grey-02


    .unseen
        .subject
            font-weight bold


    .wrapper
        display         table-row
        color           darkcolor
        text-decoration none

        [class*=wrapper]
            display        table-cell
            vertical-align middle
            padding        0 .5em

        p
            margin 0


    .markers-wrapper
        marker-width = .85em

        width 1em + marker-width

        i
            font-size marker-width

        .fa-circle
            color basecolor


    .avatar-wrapper
        width min-content


    .avatar
        display         flex
        align-items     center
        justify-content center
        border-radius   50%
        font-size       1.5em
        font-style      normal
        font-weight     bold
        text-transform  uppercase
        color           white
        opacity         .7


    .metas
        display         flex
        flex-wrap       wrap
        align-items     baseline
        justify-content space-between


    .participants
        font-weight bold


    .preview
        color     mediumcolor
        font-size .875em


    .date
        color mediumcolor


    .mailboxes
        font-size .875em

        span
            display          inline-block
            margin-right     .5em
            background-color grey-01
            border-radius    .1em
            padding          .1em .35em
            color            darkcolor


    .date
    .extras
        white-space nowrap

    .extras
        i
            margin-left .75em

    .conversation-length
        padding          0 .5em
        margin-left      .2em
        border-radius    100em
        background-color grey-06
        color            lightcolor

    .fa-star
        color lightorange


    .hlt-search
        background-color lighten(basecolor-alpha, 10)

    .preview .hlt-search
        color darkcolor


    // UI ACTIONS
    // -------------------------------------------------------------------------
    .message
        .select
            cursor  pointer
            display none


        &:hover
        &.edited
            .markers-wrapper
                .select
                    display block
                i
                    display none



    // LAYOUT SPECIFIC RULES
    // -------------------------------------------------------------------------
    .layout-column &
        .avatar-wrapper
            width 4em

        .avatar
            width  2em
            height 2em

        .participants
        .subject
            flex 1 0 50%

        .participants
        .subject
            margin .25em 0

        .mailboxes
        .preview
            margin (.25 * .875)em 0

        .mailboxes
        .preview
            flex-basis 100%

        .participants
            order 1

        .subject
            order 3

        .preview
            order 6

        .date
            order 2

        .mailboxes
            order 5

        .extras
            order 4


    .layout-column.layout-compact &
        .preview
            display none


    .layout-column.layout-compact &
    .layout-row &
        .mailboxes
            display none

        .avatar-wrapper
            width 3.25em

        .avatar
            width  1.5em
            height 1.5em


    .layout-row &
        .metas-wrapper
            flex-wrap nowrap

        .metas
            flex-wrap nowrap

            > div
                margin 0 .25em

                &:first-child
                    margin-left 0
                &:last-child
                    margin-right 0

        .participants
            flex 1 0 20%

        .subject
            flex  1 0 30%
            order 2

        .preview
            flex-basis 1 1 100%
            order      3

        .extras
            order 4

        .date
            order 5
